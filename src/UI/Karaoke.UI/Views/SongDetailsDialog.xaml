<ContentDialog
    x:Class="Karaoke.UI.Views.SongDetailsDialog"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d"
    Title="Song Details"
    PrimaryButtonText="{x:Bind PrimaryButtonText, Mode=OneWay}"
    PrimaryButtonClick="OnPrimaryButtonClick"
    SecondaryButtonText="{x:Bind SecondaryButtonText, Mode=OneWay}"
    SecondaryButtonClick="OnSecondaryButtonClick"
    CloseButtonText="Close"
    DefaultButton="Close"
    Width="700"
    Height="600">
    <ScrollViewer VerticalScrollBarVisibility="Auto">
        <StackPanel Spacing="16" Margin="12">
            <!-- Basic Information -->
            <StackPanel Spacing="8">
                <TextBlock Text="Basic Information" FontWeight="SemiBold" FontSize="16" />

                <Grid ColumnSpacing="12" RowSpacing="8">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="150" />
                        <ColumnDefinition Width="*" />
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                    </Grid.RowDefinitions>

                    <TextBlock Grid.Row="0" Grid.Column="0" Text="Title:" FontWeight="SemiBold" />
                    <TextBlock Grid.Row="0" Grid.Column="1" Text="{x:Bind Song.Title, Mode=OneWay}" TextWrapping="Wrap"
                               Visibility="{x:Bind IsViewMode, Mode=OneWay}" />
                    <TextBox Grid.Row="0" Grid.Column="1" x:Name="TitleTextBox" Text="{x:Bind EditedTitle, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                             Visibility="{x:Bind IsEditMode, Mode=OneWay}" />

                    <TextBlock Grid.Row="1" Grid.Column="0" Text="Artist:" FontWeight="SemiBold" />
                    <TextBlock Grid.Row="1" Grid.Column="1" Text="{x:Bind Song.Artist, Mode=OneWay}" TextWrapping="Wrap"
                               Visibility="{x:Bind IsViewMode, Mode=OneWay}" />
                    <TextBox Grid.Row="1" Grid.Column="1" x:Name="ArtistTextBox" Text="{x:Bind EditedArtist, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                             Visibility="{x:Bind IsEditMode, Mode=OneWay}" />

                    <TextBlock Grid.Row="2" Grid.Column="0" Text="Language:" FontWeight="SemiBold" />
                    <TextBlock Grid.Row="2" Grid.Column="1" Text="{x:Bind Song.Language, Mode=OneWay}" TextWrapping="Wrap"
                               Visibility="{x:Bind IsViewMode, Mode=OneWay}" />
                    <TextBox Grid.Row="2" Grid.Column="1" x:Name="LanguageTextBox" Text="{x:Bind EditedLanguage, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                             Visibility="{x:Bind IsEditMode, Mode=OneWay}" />

                    <TextBlock Grid.Row="3" Grid.Column="0" Text="Genre:" FontWeight="SemiBold" />
                    <TextBlock Grid.Row="3" Grid.Column="1" Text="{x:Bind Song.Genre, Mode=OneWay}" TextWrapping="Wrap"
                               Visibility="{x:Bind IsViewMode, Mode=OneWay}" />
                    <TextBox Grid.Row="3" Grid.Column="1" x:Name="GenreTextBox" Text="{x:Bind EditedGenre, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                             Visibility="{x:Bind IsEditMode, Mode=OneWay}" />

                    <TextBlock Grid.Row="4" Grid.Column="0" Text="Comment:" FontWeight="SemiBold" />
                    <TextBlock Grid.Row="4" Grid.Column="1" Text="{x:Bind Song.Comment, Mode=OneWay}" TextWrapping="Wrap"
                               Visibility="{x:Bind IsViewMode, Mode=OneWay}" />
                    <TextBox Grid.Row="4" Grid.Column="1" x:Name="CommentTextBox" Text="{x:Bind EditedComment, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                             Visibility="{x:Bind IsEditMode, Mode=OneWay}" />

                    <TextBlock Grid.Row="5" Grid.Column="0" Text="Song ID:" FontWeight="SemiBold" />
                    <TextBlock Grid.Row="5" Grid.Column="1" Text="{x:Bind Song.Id, Mode=OneWay}" TextWrapping="Wrap"
                               Foreground="{ThemeResource TextFillColorSecondaryBrush}" FontSize="12" />
                </Grid>
            </StackPanel>

            <!-- Playback Settings -->
            <StackPanel Spacing="8">
                <TextBlock Text="Playback Settings" FontWeight="SemiBold" FontSize="16" />

                <Grid ColumnSpacing="12" RowSpacing="8">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="150" />
                        <ColumnDefinition Width="*" />
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                    </Grid.RowDefinitions>

                    <TextBlock Grid.Row="0" Grid.Column="0" Text="Priority:" FontWeight="SemiBold" />
                    <TextBlock Grid.Row="0" Grid.Column="1" Text="{x:Bind Song.Priority, Mode=OneWay}"
                               Visibility="{x:Bind IsViewMode, Mode=OneWay}" />
                    <NumberBox Grid.Row="0" Grid.Column="1" x:Name="PriorityNumberBox" Value="{x:Bind EditedPriority, Mode=TwoWay}"
                               SpinButtonPlacementMode="Inline" Minimum="1" Maximum="10"
                               Visibility="{x:Bind IsEditMode, Mode=OneWay}" />

                    <TextBlock Grid.Row="1" Grid.Column="0" Text="Channel/Track:" FontWeight="SemiBold" />
                    <StackPanel Grid.Row="1" Grid.Column="1" Orientation="Horizontal" Spacing="8"
                                Visibility="{x:Bind IsViewMode, Mode=OneWay}">
                        <TextBlock Text="{x:Bind Song.Instrumental, Mode=OneWay}" />
                        <TextBlock Text="(0 = Vocal, 1 = Instrumental)"
                                   Foreground="{ThemeResource TextFillColorSecondaryBrush}" FontSize="12" />
                    </StackPanel>
                    <StackPanel Grid.Row="1" Grid.Column="1" Orientation="Horizontal" Spacing="8"
                                Visibility="{x:Bind IsEditMode, Mode=OneWay}">
                        <NumberBox x:Name="InstrumentalNumberBox" Value="{x:Bind EditedInstrumental, Mode=TwoWay}"
                                   SpinButtonPlacementMode="Inline" Minimum="0" Maximum="1" Width="120" />
                        <TextBlock Text="(0 = Vocal, 1 = Instrumental)" VerticalAlignment="Center"
                                   Foreground="{ThemeResource TextFillColorSecondaryBrush}" FontSize="12" />
                    </StackPanel>

                    <TextBlock Grid.Row="2" Grid.Column="0" Text="Channel Config:" FontWeight="SemiBold" />
                    <TextBlock Grid.Row="2" Grid.Column="1" Text="{x:Bind Song.ChannelConfiguration, Mode=OneWay}" />
                </Grid>
            </StackPanel>

            <!-- Volume Normalization -->
            <StackPanel Spacing="8">
                <TextBlock Text="Volume Normalization" FontWeight="SemiBold" FontSize="16" />

                <Grid ColumnSpacing="12" RowSpacing="8">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="150" />
                        <ColumnDefinition Width="*" />
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                    </Grid.RowDefinitions>

                    <TextBlock Grid.Row="0" Grid.Column="0" Text="Loudness:" FontWeight="SemiBold" />
                    <StackPanel Grid.Row="0" Grid.Column="1" Orientation="Horizontal" Spacing="8">
                        <TextBlock Text="{x:Bind LoudnessText, Mode=OneWay}" />
                        <TextBlock Text="LUFS" Foreground="{ThemeResource TextFillColorSecondaryBrush}" />
                    </StackPanel>

                    <TextBlock Grid.Row="1" Grid.Column="0" Text="Gain Adjustment:" FontWeight="SemiBold" />
                    <StackPanel Grid.Row="1" Grid.Column="1" Orientation="Horizontal" Spacing="8">
                        <TextBlock Text="{x:Bind GainText, Mode=OneWay}" />
                        <TextBlock Text="dB" Foreground="{ThemeResource TextFillColorSecondaryBrush}" />
                    </StackPanel>

                    <TextBlock Grid.Row="2" Grid.Column="0" Text="Status:" FontWeight="SemiBold" />
                    <TextBlock Grid.Row="2" Grid.Column="1" Text="{x:Bind NormalizationStatus, Mode=OneWay}"
                               Foreground="{x:Bind NormalizationStatusColor, Mode=OneWay}" />
                </Grid>

                <TextBlock Text="Note: Target loudness is -14 LUFS (Spotify/YouTube standard)"
                           Style="{StaticResource CaptionTextBlockStyle}"
                           Foreground="{ThemeResource TextFillColorSecondaryBrush}"
                           TextWrapping="Wrap" />
            </StackPanel>

            <!-- File Information -->
            <StackPanel Spacing="8">
                <TextBlock Text="File Information" FontWeight="SemiBold" FontSize="16" />

                <Grid ColumnSpacing="12" RowSpacing="8">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="150" />
                        <ColumnDefinition Width="*" />
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto" />
                    </Grid.RowDefinitions>

                    <TextBlock Grid.Row="0" Grid.Column="0" Text="File Path:" FontWeight="SemiBold" VerticalAlignment="Top" />
                    <TextBlock Grid.Row="0" Grid.Column="1" Text="{x:Bind Song.MediaPath, Mode=OneWay}"
                               TextWrapping="Wrap"
                               Foreground="{ThemeResource TextFillColorSecondaryBrush}"
                               FontSize="12"
                               IsTextSelectionEnabled="True" />
                </Grid>
            </StackPanel>
        </StackPanel>
    </ScrollViewer>
</ContentDialog>
